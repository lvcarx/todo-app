(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},55:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(29),l=a.n(c),s=(a(37),a(4)),r=a(5),i=a(7),m=a(6),d=a(1),u=a(2),h=a.n(u),p=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeColorSettings=n.changeColorSettings.bind(Object(d.a)(n)),n.changeDarkModeSettings=n.changeDarkModeSettings.bind(Object(d.a)(n)),n.state={darkMode:n.props.darkMode,color:n.props.color},n}return Object(r.a)(a,[{key:"changeDarkModeSettings",value:function(){var e={token:localStorage.getItem("user-token"),darkMode:!this.props.darkMode};h.a.post("http://localhost:8000/api/settings/update",e).then(this.props.grandchildFetchSettings()).catch((function(e){return console.log(e)})).finally()}},{key:"changeColorSettings",value:function(e){var t={token:localStorage.getItem("user-token"),color:e};h.a.post("http://localhost:8000/api/settings/update",t).then(this.props.grandchildFetchSettings()).catch((function(e){return console.log(e)})).finally()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:!0===this.props.opened?"modal open":"modal",id:"settingsModal"},o.a.createElement("a",{id:"close",onClick:this.props.closeModal2,className:"close"},o.a.createElement("img",{src:"/img/close.svg"})),o.a.createElement("h2",null,"Settings"),o.a.createElement("div",{className:""},o.a.createElement("h3",null,"Appearance"),o.a.createElement("a",{className:1==this.props.darkMode?"true":"false",id:"darkModeToggle",onClick:this.changeDarkModeSettings},"Dark Mode"),o.a.createElement("h4",null,"Colors"),o.a.createElement("div",{className:"wrapper"},o.a.createElement("a",{className:"color blue",id:"blueMode",onClick:function(){return e.changeColorSettings("blue")}}),o.a.createElement("a",{className:"color green",id:"greenMode",onClick:function(){return e.changeColorSettings("green")}}),o.a.createElement("a",{className:"color pink",id:"pinkMode",onClick:function(){return e.changeColorSettings("pink")}})),o.a.createElement("h3",null,"Reset App (Developer)"),o.a.createElement("a",null,"Delete all data")))}}]),a}(o.a.Component),g=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).openModal=n.openModal.bind(Object(d.a)(n)),n.state={showModal:!1,darkMode:!1,color:""},n}return Object(r.a)(a,[{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"componentDidMount",value:function(){this.props.fetchSettings()}},{key:"render",value:function(){var e=this;return o.a.createElement("header",{className:"header"},o.a.createElement("img",{className:"logo",src:"/img/logo.svg"}),o.a.createElement("img",{className:"settingsIcon",src:"/img/settings.svg",onClick:this.openModal}),o.a.createElement(p,{grandchildFetchSettings:this.props.fetchSettings,closeModal2:function(){return e.closeModal()},opened:this.state.showModal,darkMode:this.props.darkMode,color:this.props.color}))}}]),a}(o.a.Component),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("footer",null,o.a.createElement("a",{target:"_blank",href:"https://github.com/reallucareichmann/todo-app",className:""},"Changelog and future plans"),o.a.createElement("br",null),o.a.createElement("a",{target:"_blank",href:"https://luca-reichmann.de/impressum"},"Impressum"),o.a.createElement("br",null),o.a.createElement("a",{target:"_blank",href:"https://luca-reichmann.de",className:"madeWithLove"},"Made with \u2764\ufe0f by luca-reichmann.de"))}}]),a}(o.a.Component),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).deleteTodoItem=n.deleteTodoItem.bind(Object(d.a)(n)),n.favoriteTodoItem=n.favoriteTodoItem.bind(Object(d.a)(n)),n.handleTodoItem=n.handleTodoItem.bind(Object(d.a)(n)),n.doneTodoItem=n.doneTodoItem.bind(Object(d.a)(n)),n.localDoneTodoItem=n.localDoneTodoItem.bind(Object(d.a)(n)),n.openTodoItem=n.openTodoItem.bind(Object(d.a)(n)),n.createSection=n.createSection.bind(Object(d.a)(n)),n.fetchSection=n.fetchSection.bind(Object(d.a)(n)),n.onChangeSection=n.onChangeSection.bind(Object(d.a)(n)),n.openSectionDialog=n.openSectionDialog.bind(Object(d.a)(n)),n.closeSectionDialog=n.closeSectionDialog.bind(Object(d.a)(n)),n.chooseSection=n.chooseSection.bind(Object(d.a)(n)),n.deleteSection=n.deleteSection.bind(Object(d.a)(n)),n.changeSectionInItem=n.changeSectionInItem.bind(Object(d.a)(n)),n.closeCategoryDialog=n.closeCategoryDialog.bind(Object(d.a)(n)),n.state={notesInDB:[],noteAuthor:n.props.author,sectionName:"",sectionDialogOpen:!1,currentSection:"all",categoryModalOpen:!1},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchSection()}},{key:"openTodoItem",value:function(e){document.getElementById(e).classList.toggle("opened")}},{key:"localDoneTodoItem",value:function(e){document.getElementById(e).classList.toggle("done")}},{key:"doneTodoItem",value:function(e){var t={author:this.props.author,todoItem:e,done:!e.done};h.a.post("http://localhost:8000/api/todo/update",t).then(this.props.fetchTodoItems()).catch((function(e){return console.log(e)})).finally()}},{key:"favoriteTodoItem",value:function(e){var t={author:this.props.author,todoItem:e,favorite:!e.favorite};h.a.post("http://localhost:8000/api/todo/update",t).then(this.props.fetchTodoItems()).catch((function(e){return console.log(e)})).finally()}},{key:"handleTodoItem",value:function(){this.setState({categoryModalOpen:!0})}},{key:"deleteTodoItem",value:function(e){var t={author:this.props.author,todoItem:e};console.log(t),h.a.post("http://localhost:8000/api/todo/delete",t).then(this.props.fetchTodoItems()).catch((function(e){return console.log(e)})).finally()}},{key:"onChangeSection",value:function(e){this.setState({sectionName:e.target.value})}},{key:"createSection",value:function(e){var t={token:localStorage.getItem("user-token"),sectionName:this.state.sectionName};h.a.post("http://localhost:8000/api/sections/create",t).then(this.props.fetchSections()).catch((function(e){return console.log(e)})),this.setState({sectionName:""})}},{key:"fetchSection",value:function(){var e={token:localStorage.getItem("user-token")};h.a.post("http://localhost:8000/api/sections/fetch",e).then((function(e){console.log(e)}))}},{key:"openSectionDialog",value:function(){this.setState({sectionDialogOpen:!0})}},{key:"closeSectionDialog",value:function(){this.setState({sectionDialogOpen:!1})}},{key:"closeCategoryDialog",value:function(){this.setState({categoryModalOpen:!1})}},{key:"chooseSection",value:function(e){this.setState({currentSection:e})}},{key:"deleteSection",value:function(e){var t={token:localStorage.getItem("user-token"),sections:e};console.log(t),h.a.post("http://localhost:8000/api/sections/delete",t).then(this.props.fetchSections()).catch((function(e){return console.log(e)}))}},{key:"changeSectionInItem",value:function(e,t){var a={todoItem:e,author:this.props.author,category:t};console.log(a),h.a.post("http://localhost:8000/api/todo/update",a).then(this.props.fetchTodoItems()).catch((function(e){return console.log(e)})).finally()}},{key:"render",value:function(){var e=this;return"all"==this.state.currentSection?o.a.createElement("div",{className:"todoItemWrapper"},o.a.createElement("h2",null,"Get stuff done!"),o.a.createElement("a",{id:"addSections",onClick:this.openSectionDialog},"Add new sections"),o.a.createElement("div",{id:"dynamicSection",className:1==this.state.sectionDialogOpen?"dynamicSection open":"dynamicSection"},o.a.createElement("input",{id:"sectionName",type:"text",onChange:this.onChangeSection,placeholder:"Add a new task category..."}),o.a.createElement("a",{onClick:function(){e.createSection(),e.closeSectionDialog()}},"Save and close")),o.a.createElement("div",{className:"sections"},o.a.createElement("div",{className:"all"==this.state.currentSection?"sectionWrapper current":"sectionWrapper"},o.a.createElement("span",{className:"section",onClick:function(){return e.chooseSection("all")}},"All")),this.props.sections.map((function(t){return o.a.createElement("div",{className:e.state.currentSection==t?"sectionWrapper current":"sectionWrapper"},o.a.createElement("span",{className:"section",onClick:function(){return e.chooseSection(t)}},t),o.a.createElement("a",null,o.a.createElement("img",{onClick:function(){return e.deleteSection(t)},className:"close",src:"/img/deleteCategory.svg"})))}))),this.props.allNotes.map((function(t){return o.a.createElement("div",{className:1==t.favorite?"todoItem favorite":"todoItem",id:t._id},o.a.createElement("div",{className:"wrapper"},o.a.createElement("a",{className:"done",onClick:function(){e.doneTodoItem(t),e.localDoneTodoItem(t._id)}}),o.a.createElement("p",{className:"todoItemContent"},t.name),o.a.createElement("a",{className:"edit",onClick:function(){return e.openTodoItem(t._id)}},"Edit")),o.a.createElement("div",{className:"actionArea"},o.a.createElement("a",{className:"favorite",onClick:function(){return e.favoriteTodoItem(t)}},o.a.createElement("img",{src:"/img/favorite.svg"})),o.a.createElement("a",{className:"delete",onClick:function(){return e.deleteTodoItem(t._id)}},o.a.createElement("img",{src:"/img/close.svg"})),o.a.createElement("a",{className:"handle",onClick:function(){return e.handleTodoItem(t._id)}},o.a.createElement("img",{src:"/img/handle.svg"}))),o.a.createElement("div",{className:1==e.state.categoryModalOpen?"changeSection modal open":"changeSection modal",id:t._id},o.a.createElement("a",{id:"close",onClick:e.closeCategoryDialog,className:"close"},o.a.createElement("img",{src:"/img/close.svg"})),o.a.createElement("h2",null,"Change Section"),o.a.createElement("div",{className:"sectionWrapper"},e.props.sections.map((function(a){return o.a.createElement("span",{className:t.category==a?"current":"",onClick:function(){return e.changeSectionInItem(t._id,a)}},a)})))))}))):o.a.createElement("div",{className:"todoItemWrapper"},o.a.createElement("h2",null,"Get stuff done!"),o.a.createElement("a",{id:"addSections",onClick:this.openSectionDialog},"Add new sections"),o.a.createElement("div",{id:"dynamicSection",className:1==this.state.sectionDialogOpen?"dynamicSection open":"dynamicSection"},o.a.createElement("input",{id:"sectionName",type:"text",onChange:this.onChangeSection,placeholder:"Add a new task category..."}),o.a.createElement("a",{onClick:function(){e.createSection(),e.closeSectionDialog()}},"Save and close")),o.a.createElement("div",{className:"sections"},o.a.createElement("div",{className:"sectionWrapper"},o.a.createElement("span",{className:"section",onClick:function(){return e.chooseSection("all")}},"All")),this.props.sections.map((function(t){return o.a.createElement("div",{className:e.state.currentSection==t?"sectionWrapper current":"sectionWrapper"},o.a.createElement("span",{className:"section",onClick:function(){return e.chooseSection(t)}},t),o.a.createElement("a",null,o.a.createElement("img",{onClick:function(){return e.deleteSection(t)},className:"close",src:"/img/deleteCategory.svg"})))}))),this.props.allNotes.filter((function(t){return t.category==e.state.currentSection})).map((function(t){return o.a.createElement("div",{className:1==t.favorite?"todoItem favorite":"todoItem",id:t._id},o.a.createElement("div",{className:"wrapper"},o.a.createElement("a",{className:"done",onClick:function(){e.doneTodoItem(t),e.localDoneTodoItem(t._id)}}),o.a.createElement("p",{className:"todoItemContent"},t.name),o.a.createElement("a",{className:"edit",onClick:function(){return e.openTodoItem(t._id)}},"Edit")),o.a.createElement("div",{className:"actionArea"},o.a.createElement("a",{className:"favorite",onClick:function(){return e.favoriteTodoItem(t)}},o.a.createElement("img",{src:"/img/favorite.svg"})),o.a.createElement("a",{className:"delete",onClick:function(){return e.deleteTodoItem(t._id)}},o.a.createElement("img",{src:"/img/close.svg"})),o.a.createElement("a",{className:"handle",onClick:function(){return e.handleTodoItem(t._id)}},o.a.createElement("img",{src:"/img/handle.svg"}))),o.a.createElement("div",{className:1==e.state.categoryModalOpen?"changeSection modal open":"changeSection modal",id:t._id},o.a.createElement("h2",null,"Change Section"),o.a.createElement("div",{className:"sectionWrapper"},e.props.sections.map((function(a){return o.a.createElement("span",{className:t.category==a?"current":"",onClick:function(){return e.changeSectionInItem(t._id,a)}},a)})))))})))}}]),a}(o.a.Component),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).createTodoItem=n.createTodoItem.bind(Object(d.a)(n)),n.changeTodoItemText=n.changeTodoItemText.bind(Object(d.a)(n)),n.fetchTodoItems=n.fetchTodoItems.bind(Object(d.a)(n)),n.fetchSections=n.fetchSections.bind(Object(d.a)(n)),n.state={currentNote:"",currentTodo:"",notesInDB:[],sectionsInDB:[],userID:n.props.userID,userEmail:n.props.userEmail},n}return Object(r.a)(a,[{key:"changeTodoItemText",value:function(e){this.setState({currentNote:e.target.value})}},{key:"createTodoItem",value:function(){var e=localStorage.getItem("user-token"),t={name:this.state.currentNote,author:e};this.setState({currentTodo:this.state.currentNote}),h.a.post("http://localhost:8000/api/todo/create",t).then(this.fetchTodoItems()).catch((function(e){return console.log(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return t.author!==this.props.author||e.notesInDB!==this.state.notesInDB}},{key:"componentDidMount",value:function(){this.fetchTodoItems(),this.fetchSections()}},{key:"fetchTodoItems",value:function(){var e=this,t={token:localStorage.getItem("user-token")};h.a.post("http://localhost:8000/api/todo/fetch",t).then((function(t){e.setState({notesInDB:t.data})}))}},{key:"fetchSections",value:function(){var e=this,t={token:localStorage.getItem("user-token")};h.a.post("http://localhost:8000/api/sections/fetch",t).then((function(t){e.setState({sectionsInDB:t.data[0].sections})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"itemForm"},o.a.createElement("form",{id:"form"},o.a.createElement("div",{className:"inputWrapper"},o.a.createElement("p",{id:"errorNotice"}),o.a.createElement("input",{type:"text",id:"box",onChange:this.changeTodoItemText,placeholder:"Add a task..."}),o.a.createElement("a",{type:"button",id:"submit",value:"Add to list",onClick:this.createTodoItem},"Add to list")))),o.a.createElement(v,{fetchSections:this.fetchSections,sections:this.state.sectionsInDB,fetchTodoItems:this.fetchTodoItems,author:this.props.userID,allNotes:this.state.notesInDB}))}}]),a}(o.a.Component),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fetchSettings=n.fetchSettings.bind(Object(d.a)(n)),n.state={userEmail:"",userID:"",color:"",darkMode:""},n}return Object(r.a)(a,[{key:"componentWillMount",value:function(){var e=this,t={token:localStorage.getItem("user-token")};h.a.post("http://localhost:8000/api/users/currentUser",t).then((function(t){e.setState({userEmail:t.data.email,userID:t.data._id})})),this.fetchSettings()}},{key:"fetchSettings",value:function(){var e=this;console.log("WORKS?");var t={token:localStorage.getItem("user-token")};h.a.post("http://localhost:8000/api/settings/fetch",t).then((function(t){e.setState({darkMode:t.data.darkMode,color:t.data.color})})),console.log(this.state.darkMode),console.log(this.state.color)}},{key:"render",value:function(){return o.a.createElement("div",{className:1==this.state.darkMode?"dark":"light",id:this.state.color},o.a.createElement(g,{fetchSettings:this.fetchSettings,darkMode:this.state.darkMode,color:this.state.color}),o.a.createElement(E,{userID:this.state.userID,userEmail:this.state.userEmail}),o.a.createElement(f,null))}}]),a}(o.a.Component),b=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onChangeEmail=e.onChangeEmail.bind(Object(d.a)(e)),e.onChangePassword=e.onChangePassword.bind(Object(d.a)(e)),e.tryLogin=e.tryLogin.bind(Object(d.a)(e)),e.state={email:"",password:"",loggedIn:!1},e}return Object(r.a)(a,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"tryLogin",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};h.a.post("http://localhost:8000/api/users/login",t).then((function(e){e.data&&localStorage.setItem("user-token",e.data)})),this.setState({email:"",password:""})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Login"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter Email",value:this.state.email,onChange:this.onChangeEmail})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter Password",value:this.state.password,onChange:this.onChangePassword})),o.a.createElement("p",{onClick:this.tryLogin,className:"btn btn-primary dark-btn btn-block"},"Login")))}}]),a}(o.a.Component),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onChangeEmail=e.onChangeEmail.bind(Object(d.a)(e)),e.onChangePassword=e.onChangePassword.bind(Object(d.a)(e)),e.tryLogin=e.tryLogin.bind(Object(d.a)(e)),e.state={email:"",password:"",loggedIn:!1},e}return Object(r.a)(a,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"tryLogin",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};h.a.post("http://localhost:8000/api/users/register",t).then((function(e){e.data&&localStorage.setItem("user-token",e.data)})),this.setState({email:"",password:""})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"wrapper register content"},o.a.createElement("h1",{className:"text-center mb-3"},"Register"),o.a.createElement("h1",null,"Login"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email"),o.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter Email",value:this.state.email,onChange:this.onChangeEmail})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password"),o.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter Password",value:this.state.password,onChange:this.onChangePassword})),o.a.createElement("button",{onClick:this.tryLogin,type:"submit",className:"btn btn-primary dark-btn btn-block"},"Login"))))}}]),a}(o.a.Component),I=(a(55),a(12)),y=a(15),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={userIsAuthenticated:!1},e}return Object(r.a)(a,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user-token");e&&(this.setState({userIsAuthenticated:!0}),console.log("Okay this worked!"),h.a.defaults.headers.common["x-auth-token"]=e)}},{key:"render",value:function(){return this.state.userIsAuthenticated?o.a.createElement(y.a,null,o.a.createElement(I.d,null,o.a.createElement(I.b,{exact:!0,path:"/"},o.a.createElement(k,null)),o.a.createElement(I.b,{path:"/login"},o.a.createElement(I.a,{to:"/"})),o.a.createElement(I.b,{exact:!0,path:"/register"},o.a.createElement(I.a,{to:"/"})))):o.a.createElement(y.a,null,o.a.createElement(I.d,null,o.a.createElement(I.b,{exact:!0,path:"/"},o.a.createElement(I.a,{to:"/login"})),o.a.createElement(I.b,{path:"/login"},o.a.createElement(b,null)),o.a.createElement(I.b,{exact:!0,path:"/register"},o.a.createElement(S,null))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.3ef20440.chunk.js.map